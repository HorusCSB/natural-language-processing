GEOMETRICAL TRANSFORMATION-BASEDGHOST ARTIFACTS REMOVINGFORHIGHDYNAMIC RANGE IMAGE Jaehyun Im , Sangsik Jang , Seungwon Lee , Joonki Paik Image Processing Intelligent System Laboratory , Department Image Engineering , Graduate School Advanced Imaging Science , Multimedia , Film , Chung-Ang University ABSTRACT paper , propose ghost artifacts removing algorithm obtaining artifact-free high dynamic range ( HDR ) images presence camera movement . Existing HDR methods work condition camera movement acquiring multiple low dynamic range ( LDR ) images . overcoming unrealistic restriction , proposed algorithm first specifies target source images set acquired LDR images , source image transformed fit target image estimating translation rotation components affine matrix . Therefore , proposed algorithm reconstruct HDR image without ghost artifacts camera movement completely removed transformed images . Experimental results show proposed algorithm successfully removes ghost artifacts . reason , proposed algorithm extend application areas HDR imaging various mobile imaging devices , handheld camcorder mobile phone camera . Index Terms— HDR , High dynamic range image , Image registration , Motion compensation 1 . INTRODUCTION High dynamic range ( HDR ) imaging active topic field computer vision graphics last decade . Combining differently exposed low dynamic range ( LDR ) images scene popular approach generate HDR image [ 1,2 ] . spite promising results existing HDR methods , requirement static acquisition limits application studio- level ideal environment . words , methods avoid ghost artifacts presence camera movement . However , modern mobile imaging devices require HDR function without ghost artifacts dynamic acquisition . work related recent research combining multiple images different exposure produce sharp clean image image registration . Debevec introduced classic method combining multiple photos create HDR image , assuming fixed camera static scene [ 1 ] .Subsequent works generalize varying viewpoints [ 3,4 ] . Lu recently combined deblur HDR creation , method limited spatially-invariant kernel [ 5 ] . order produce sharp clean HDR image , proposed algorithm registers differently exposed LDR images using elastic registration ( ER ) algorithm minimize geometric error LDR images [ 6 ] . key advantage proposed algorithm ability generate HDR images without ghost artifacts presence camera movement . reason proposed algorithm applied various mobile imaging devices , handheld camera , mobile phone camera . rest paper organized follow . present ER algorithm register LDR image section 2 . section 3 , show experimental results confirm validity work comparison Debevec ’ method [ 1 ] existing commercial products [ 7,8 ] , section 4 concludes paper . 2 . LOWDYNAMIC RANGE IMAGE REGISTRATION USINGELASTIC REGISTRATION order combine multiple LDR images without ghost artifacts , need image registration algorithm . Periaswamy proposed ER algorithm geometrically register source image target image using affine matrix [ 6 ] . efficient registration LDR images , assume camera movement , consists translation rotation . Therefore , affine matrix ER algorithm contained translation rotation component . Denote ( , , ) f x 1 ˆ ˆ ( , , ) f x t− source LDR images target LDR image respectively . begin assuming image intensities images conserved motion LDR images modeled affine transform : 1 2 5 3 4 61 ( , , ) ( , , ) , f x f x x t=+ + + +− ( 1 ) where1m,2m,3m , and4mare linear affine parameters 5m and6m translation parameters . order estimate parameters , define following quadratic error function minimized : 2011 18th IEEE International Conference Image Processing 978-1-4577-1303-3/11/ $ 26.00 ©2011 IEEE 357Authorized licensed use limited : UNIVERSIDADE ESTADUAL DE MARINGA . Downloaded February 27,2024 00:46:22 UTC IEEE Xplore . Restrictions apply .
( ) ( ) 2 , 1 2 5 3 4 6 , , ( ) , , , 1 x yf x E f x x ∈Ω =−+ + + +−∑ ( 2 ) where1 6 ( ) , Tm m=Ω⋯ denotes small spatial neighborhood . Since error function nonlinear unknowns , minimized analytically . simplify minimization , approximate error functions using first order truncated Taylor series expansion : ( ) ( ) ( ) ( ) ( ) ( ) ( ) 21 2 5 3 4 6 , , , , , ( ) , , , , , , , x x yf x x x f x E f x x f x f x t∈Ω  + + +−  ≈ −  + + +− −  ∑ ( 3 ) xf yf spatial derivatives f , andtf temporal derivatives f. Based Taylor series expansion , error function reduced as:2 , ( ) , x yE k c ∈Ω =−∑  ( 4 ) scalar k care given : ( ) , .T x x x x k f xf yf c xf yf xf yf f f = + + = ( 5 ) error function minimized analytically differentiating respect unknown : ( ) ,2 .T x ydE mc k c mdm∈Ω =− −∑  ( 6 ) Setting result equal zero solving myields : 1 , , .T x x ym cc ck− ∈Ω ∈Ω   =      ∑ ∑  ( 7 ) estimate musing equation . accurate estimation actual error function performed using Newton-Raphson type iteration . specifically , iteration , estimated transformation applied source LDR images new transformation estimated newly translated rotated source target LDR image . Also , required spatial/temporal derivatives finite support , restricts amount motion estimate . coarse-to-fine approach adopted order content larger motion . Gaussian pyramid built source target LDR images . affine parameters used translate rotate source LDR image next level pyramid . 3 . EXPERIMENTAL RESULTS conducted experiments using variety real images verify effectiveness proposed method . images captured Canon EOS-5D Mark II . simplicity processing , image size reduced 640 480× . experimental results compared Debevec ’ method [ 1 ] , current commercial products [ 7,8 ] : FDRTools Qtpfsgui . -2 EV 0 EV +2 EV ( ) Car sequence -2 EV 0 EV +2 EV ( b ) Café sequence -2 EV 0 EV +2 EV ( c ) Lamp sequence Fig . 1 . test sequences LDR images different exposure values . test sequences different exposure values ( EVs ) shown Fig . 1 . Test sequences acquired night presence camera movement . target LDR image 0 EV image sequence red arrow represents direction camera movement . Debevec ’ method Qtpfsgui FDRTools Proposedalgorithm ( ) results HDR using Car sequence Debevec ’ method Qtpfsgui FDRTools Proposedalgorithm ( b ) results HDR using Café sequence Debevec ’ method Qtpfsgui FDRTools Proposedalgorithm ( c ) results HDR using Lamp sequence Fig . 2 . results HDR images using test sequences . 2011 18th IEEE International Conference Image Processing 358Authorized licensed use limited : UNIVERSIDADE ESTADUAL DE MARINGA . Downloaded February 27,2024 00:46:22 UTC IEEE Xplore . Restrictions apply .
Fig . 2 represents results HDR image using Debevec ’ method , Qtpfsgui , FDRTools , proposed algorithm . find result proposed algorithm removes ghost artifacts . particular , result Car sequence represents enhancement license plate . proposed algorithm remove ghost artifacts enhance low illumination image , applied check vehicle anticrime . test sequences cropped enlarged clearer comparison shown Fig . 3 , Fig . 4 , Fig . 5 . ( ) ( b ) ( c ) ( ) ( e ) Fig . 3 . Detail HDR images ( Car sequence ) ; ( ) Detail region , ( b ) Debevec ’ method , ( c ) Qtpfsgui , ( ) FDRTools , ( e ) Proposed algorithm . Fig . 3 ( ) represents region crop enlargement , Fig . 3 ( b ) - ( e ) represent results HDR image . Fig . 3 ( b ) shows result Debevec ’ method . method able compensate camera movement , ghost artifacts occurred HDR image . Fig . 3 ( c ) Fig . 3 ( ) represent result Qtpfsgui software FDRTools software respectively . methods improve ghost artifacts rather Debevec ’ method , however , ghost artifacts still remain . Furthermore , texture bright region expressed accurately . Fig . 3 ( e ) represents result proposed algorithm . proposed algorithm compensates camera movement registering LDR images , ghost artifacts removed texture bright region also expressed accurately rather Fig . 3 ( c ) Fig . 3 ( ) .Fig . 4 also represents comparison results HDR image.We find ghost artifacts shown Fig . 4 ( b ) . hand , Fig . 4 ( c ) contains tone mapping error bright region , Fig . 4 ( ) contains noise around edge . find result proposed algorithm simultaneously remove ghost artifacts noise around edge . ( ) ( b ) ( c ) ( ) ( e ) Fig . 4 . Detail HDR images ( Café sequence ) ; ( ) detail region , ( b ) Debevec ’ method , ( c ) Qtpfsgui , ( ) FDRTools , ( e ) Proposed algorithm . Fig . 5 ( b ) also contains ghost artifacts , Fig . 5 ( c ) expressed color accurately , since contains tone mapping error . Although Fig . 5 ( ) improved ghost artifacts rather Fig . 5 ( b ) , ghost artifacts still remain . ( ) ( b ) ( c ) ( ) ( e ) Fig . 5 . Detail HDR images ( Lamp sequence ) ; ( ) detail region , ( b ) Debevec ’ method , ( c ) Qtpfsgui , ( ) FDRTools , ( e ) Proposed algorithm . 2011 18th IEEE International Conference Image Processing 359Authorized licensed use limited : UNIVERSIDADE ESTADUAL DE MARINGA . Downloaded February 27,2024 00:46:22 UTC IEEE Xplore . Restrictions apply .
Table 1 represents comparison sum motion registered LDR images unregistered LDR images . find proposed algorithm reduce difference motion LDR images compensating camera movement . Table 1 . Comparison amount motions unregistered frames registered frames Sequence Unregistered Registered Vertical Horizontal Vertical Horizontal Car 1734 1778 1316 1371 Café 1218 1789 704 612 Lamp 1790 1207723 685 4 . CONCLUSIONS paper , presented ghost artifacts removing algorithm generating ghost-free HDR image presence camera movement . existing method generating HDR image contains restriction camera must kept still acquiring LDR images . order improve restriction , proposed algorithm registers LDR images using ER algorithm compensate camera movement . experimental results show proposed algorithm removes ghost artifacts well rather Debevec ’ method existing commercial products . reason , proposed algorithm applied various mobile imaging devices , handheld camera mobile phone camera . However , proposed algorithm contains computational load iterative estimation geometric parameters . Therefore , research carry optimizing proposed algorithm reducing computational load developing algorithm , compensate zoom-in zoom-out movement . addition , color enhancement studied enhance color distortion occurring tone mapping . ACKNOWLEDGEMENT research supported Basic Science Research Program National Research Foundation ( NRF ) Korea funded Ministry Education , Science Technology ( 2009-0081059 ) supported MKE ( Ministry Knowledge Economy ) , Korea , HNRC ( Home Network Research Center ) – ITRC ( Information Technology Research Center ) support program supervised NIPA ( National Industry Promotion Agency ) ( NIPA-2011-C1090-1111-0010 ) . REFERENCES [ 1 ] P. Debevec J. Malik , “ Recovering high dynamic range radiance maps photographs , ” Proc . ACM SIGGRAPH , pp . 369-378 , 1997 . [ 2 ] E. Reinhard , G. Ward , S. Pattanaik , P. Debevec , High dynamic range imaging : acquisition , display image-based- lighting , Morgan Kaufmann , 2005 . [ 3 ] S. Kim ad M. Pollefeys , “ Radiometric self-alignment image sequences , ” IEEE Conf . Computer Vision , Patter Recognition , pp . 645-651 , 2004 . [ 4 ] S. Wu , S. Xie , S. Rahardja , Z. Li , “ robust fast anti- ghosting algorithm high dynamic range imaging , ” Proc . IEEE Int . Conf . Image Processing , pp . 397-400 , 2010 . [ 5 ] P. Lu , T. Huang , M. Wu , Y. Cheng , Y. Chuang , “ High dynamic range image reconstruction hand-held cameras , ” IEEE Conf . Computer Vision , Pattern Recognition , pp . 509-516 , 2009 . [ 6 ] S. Periaswamy H. Fraid , “ Elastic registration presence intensity variations , ” IEEE Trans . Medical Imaging , pp . 865-874 , 2003 . [ 7 ] FDRTools software : http : //fdrtools.com/front_e.php [ 8 ] Qtpfsgui software : http : //qtpfsgui.sourceforge.net 2011 18th IEEE International Conference Image Processing 360Authorized licensed use limited : UNIVERSIDADE ESTADUAL DE MARINGA . Downloaded February 27,2024 00:46:22 UTC IEEE Xplore . Restrictions apply .